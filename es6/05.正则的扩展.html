<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>Document</title>
</head>
<body>

  <script>
    //1.RegExpçš„æ„é€ å‡½æ•°
    //es5çš„æ„é€ å‡½æ•°çš„å‚æ•°æœ‰ä¸¤ç§
    //ä¸€ã€å‚æ•°æ˜¯å­—ç¬¦ä¸²ï¼Œç¬¬äºŒä¸ªå‚æ•°è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦
    var regex = new RegExp('xyz','i');
    var regex = /xyz/i;//ä¸¤ä¸ªæ˜¯ç­‰ä»·çš„
    //äºŒã€å‚æ•°æ˜¯ä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼ï¼Œè¿”å›çš„æ˜¯ä¸€ä¸ªåŸæœ‰æ­£åˆ™è¡¨è¾¾å¼çš„æ‹·è´,ç¬¬äºŒä¸ªå‚æ•°ä¸å…è®¸æ·»åŠ ä¿®é¥°ç¬¦
    var regex = new RegExp(/xyz/i);
    var regex = /xyz/i;//è¿™ä¸¤ä¸ªä¹Ÿæ˜¯ç›¸ç­‰çš„
    var regex = new RegExp(/xyz/,'i');//è¿™ä¸ªä¼šæŠ¥é”™çš„
    
    //es6ä¸­RegExpæ„é€ å‡½æ•°ç¬¬ä¸€ä¸ªæ˜¯æ­£åˆ™å¯¹è±¡ï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯ä¿®é¥°ç¬¦,å¦‚æœæ­£åˆ™å¯¹è±¡æœ‰ä¿®é¥°ç¬¦ï¼Œç”Ÿæ•ˆçš„æ˜¯çš„äºŒä¸ªå‚æ•°çš„ä¿®é¥°ç¬¦
    var regex = new RegExp(/abc/ig,'i');


    //2.å­—ç¬¦ä¸²çš„æ­£åˆ™æ–¹æ³•
    //å­—ç¬¦ä¸²å¯¹è±¡æœ‰4ä¸ªæ–¹æ³•,match(),replace(),search(),split()
    //ES6å°†è¿™4ä¸ªæ–¹æ³•å†…éƒ¨å…¨éƒ¨è°ƒç”¨RegExpçš„å®ä¾‹ï¼Œåšåˆ°äº†æ‰€æœ‰ä¸æ­£åˆ™ç›¸å…³æ–¹æ³•éƒ½å®šä¹‰åœ¨RegExpå¯¹è±¡ä¸Š
  /*
    String.prototype.match è°ƒç”¨ RegExp.prototype[Symbol.match]
    String.prototype.replace è°ƒç”¨ RegExp.prototype[Symbol.replace]
    String.prototype.search è°ƒç”¨ RegExp.prototype[Symbol.search]
    String.prototype.split è°ƒç”¨ RegExp.prototype[Symbol.split]
  */

   //3.uä¿®é¥°ç¬¦
   //es6æ·»åŠ äº†uä¿®é¥°ç¬¦ï¼Œä»£è¡¨'Unicodeæ¨¡å¼',ç”¨æ¥æ­£ç¡®å¤„ç†æ‰“å°\uFFFFçš„Unicodeå­—ç¬¦
     /^\uD83D/u.test('\uD83D\uDC2A') // false
  // /^\uD83D/.test('\uD83D\uDC2A') // true
  //es5ä¸æ”¯æŒå››ä¸ªå­—èŠ‚çš„utf-16ç¼–ç ï¼Œè¯†åˆ«ä¸ºä¸¤ä¸ªå­—ç¬¦,å¯¼è‡´ç¬¬äºŒè¡Œä»£ç ä¸ºtrueï¼ŒåŠ uä¹‹åè¯†es6åˆ«ä¸ºä¸€ä¸ªå­—ç¬¦ï¼Œç¬¬ä¸€è¡Œä»£ç ä¸ºfalse
  
  //åŠ ä¸Šuä¿®é¥°ç¬¦æ­£åˆ™è¡¨è¾¾å¼çš„æ”¹å˜
  //(1)ç‚¹å­—ç¬¦
  //.å­—ç¬¦åœ¨æ­£åˆ™ä¸­ä»£è¡¨é™¤äº†æ¢è¡Œå¤–çš„ä»»æ„å­—ç¬¦,ç ç‚¹å¤§äº0xFFFFçš„Unicodeå­—ç¬¦ï¼Œç‚¹å­—ç¬¦ä¸èƒ½è¯†åˆ«ï¼Œè¦åŠ ä¸Šuä¿®é¥°ç¬¦
  var s = 'ğ ®·';
  /^.$/.test(s); //false
  /^.$/u.test(s); //true
  //(2)Unicodeå­—ç¬¦è¡¨ç¤ºæ³•
  //åœ¨æ­£åˆ™è¡¨ç¤ºå¼ä¸­åŠ uä¿®é¥°ç¬¦ï¼Œæ‰èƒ½è¯†åˆ«å½“ä¸­çš„å¤§æ‹¬å·ï¼Œå¦åˆ™ä¼šè§£è¯»ä¸ºé‡è¯
     /\u{61}/.test('a') //false,ä¸åŠ uä¼šè®¤ä¸ºæ˜¯61
  // /\u{61}/u.test('a') //true
  // /\u{20BB7}/u.test('ğ ®·') //true

  //(3)é‡è¯
  //åŠ äº†uä¿®é¥°ç¬¦å,æ‰€æœ‰é‡è¯éƒ½èƒ½è¯†åˆ«å¤§äº0xFFFFçš„Unicodeå­—ç¬¦
  /*/a{2}/.test('aa') //true
    /a{2}/u.test('aa') //false
    /ğ ®·{2}/.test('ğ ®·ğ ®·') // false
    /ğ ®·{2}/u.test('ğ ®·ğ ®·') // true*/

  //(4)é¢„å®šä¹‰æ¨¡å¼,åŠ äº†\sæ˜¯é¢„å®šä¹‰æ¨¡å¼,åŒ¹é…æ‰€æœ‰éç©ºç™½å­—ç¬¦,åªæœ‰åŠ uæ‰èƒ½è¯†åˆ«å¤§äº0xFFFFçš„å­—ç¬¦ã€‚
  /^\S$/.test('ğ ®·') // false
  /^\S$/u.test('ğ ®·') // true
  //åˆ©ç”¨è¿™ä¸ªç‰¹ç‚¹å¯ä»¥æ­£ç¡®è¿”å›å­—ç¬¦ä¸²é•¿åº¦çš„å‡½æ•°
  function codePointLength(test) {
    var result = text.match(/[\s\S]/gu);
    return result?result.length:0;
  }
  var s = 'ğ ®·ğ ®·';
  console.log(s.length);  //4
  console.log(codePointLength(s));  //2
  
  //(5)iä¿®é¥°ç¬¦
  //æœ‰äº›Unicodeå­—ç¬¦çš„ç¼–ç ä¸åŒ,ä½†æ˜¯å­—å‹ç›¸è¿‘,\u0048ä¸\u212Aéƒ½æ˜¯å¤§å†™K
    /[a-z]/i.test('\u212A') // false
    /[a-z]/iu.test('\u212A') // true
    //ä¸åŠ uä¿®é¥°ç¬¦æ— æ³•è¾¨åˆ«éè§„èŒƒçš„kå­—ç¬¦


  //4.RegExp.prototype.unicode å±æ€§
  //æ­£åˆ™å®ä¾‹å¯¹è±¡æ–°å¢unicodeå±æ€§,è¡¨ç¤ºæ˜¯å¦è®¾ç½®uä¿®é¥°ç¬¦
  const r1 = /hello/;
  const r2 = /hello/u;
  console.log(r1.unicode);  //false
  console.log(r2.unicode);  //true

  //5.yä¿®é¥°ç¬¦
  //é™¤äº†uä¿®é¥°ç¬¦,es6è¿˜æ·»åŠ äº†yä¿®é¥°ç¬¦,å«åš"ç²˜è¿"ä¿®é¥°ç¬¦
  //ä¸gä¿®é¥°ç¬¦ç›¸ä¼¼,ä¹Ÿæ˜¯å…¨å±€åŒ¹é…,ä½†gä¿®é¥°ç¬¦åªåŒ¹é…å‰©ä½™ä½ç½®ä¸­å­˜åœ¨çš„åŒ¹é…,yä¿®é¥°ç¬¦æ˜¯å¿…é¡»ä»å‰©ä½™ç¬¬ä¸€ä½å¼€å§‹
  var s = 'aaa_aa_a';
  var r1 = /a+/g;
  var r2 = /a+/y;
  r1.exec(s); //["aaa"]
  r1.exec(s); //["aa"]
  r2.exec(s); //"[aaa]"
  r2.exec(s); //null,ç¬¬ä¸€ä¸ªä¸æ˜¯a,æ‰¾ä¸åˆ°

  //ä¿®æ”¹ä¸€ä¸‹å°±èƒ½è¿”å›ç»“æœ
  var s = 'aaa_aa_a';
  var r = /a+_/y;
  r.exec(s); //["aaa_"]
  r.exec(s); //["aa_"]

  //ä½¿ç”¨lastIndexå±æ€§æŒ‡ä¸‹æ¬¡åŒ¹é…çš„èµ·å§‹ä½ç½®,å¯ä»æ›´å¥½åœ°è¯´æ˜yä¿®é¥°ç¬¦
  const REGEX = /a/g;
  REGEX.lastIndex =2;       // æŒ‡å®šä»2å·ä½ç½®ï¼ˆyï¼‰å¼€å§‹åŒ¹é…
  const match = REGEX.exec('xaya');  // åŒ¹é…æˆåŠŸ
  console.log(match.index);//3       //åœ¨3å·ä½ç½®åŒ¹é…æˆåŠŸ
  console.log(REGEX.lastIndex);//4   //ä¸‹ä¸€æ¬¡åŒ¹é…ä»4å·ä½å¼€å§‹
  console.log(REGEX.exec('xaya'));//null  //4å·ä½å¼€å§‹åŒ¹é…å¤±è´¥

  //yä¿®é¥°ç¬¦åŒæ ·éµå¾ªlastIndexå±æ€§,ä½†è¦æ±‚å¿…é¡»åœ¨lastIndexæŒ‡å®šä½ç½®å‘ç°åŒ¹é…
  const REGEX = /a/y;
  REGEX.lastIndex = 2;// æŒ‡å®šä»2å·ä½ç½®å¼€å§‹åŒ¹é…
  REGEX.exec('xaya') // null  // ä¸æ˜¯ç²˜è¿ï¼ŒåŒ¹é…å¤±è´¥
  REGEX.lastIndex = 3; // æŒ‡å®šä»3å·ä½ç½®å¼€å§‹åŒ¹é…
  const match = REGEX.exec('xaya'); // 3å·ä½ç½®æ˜¯ç²˜è¿ï¼ŒåŒ¹é…æˆåŠŸ
  match.index // 3
  REGEX.lastIndex // 4

  //å…¶å®yä¿®é¥°ç¬¦å·éšå«å¤´éƒ¨åŒ¹é…çš„æ ‡å¿—^ã€‚
  /b/y.exec('aba');  //null
  //yä¿®é¥°ç¬¦çš„è®¾è®¡æœ¬æ„å°±æ˜¯è®©å¤´éƒ¨åŒ¹é…æ ‡å¿—^åœ¨å…¨å±€ä¸­éƒ½æœ‰æ•ˆ

  const REGEX = /a/gy;
  'aaxa'.replace(REGEX,'-');   //"--xa",æœ€åä¸€ä¸ªaä¸æ˜¯å‡ºç°åœ¨å¤´éƒ¨æ‰€ä»¥ä¸ä¼šåŒ¹é…
  //å•å•ä¸€ä¸ªyä¿®é¥°ç¬¦å¯¹matchæ–¹æ³•,åªèƒ½åŒ¹é…ç¬¬ä¸€ä¸ªï¼Œå¿…é¡»ä¸gä¿®é¥°ç¬¦è”ç”¨æ‰èƒ½æ‰€æœ‰åŒ¹é…
  'a1a2a3'.match(/a\d/y); //["a1"]
  'a1a2a3'.match(/a\d/gy);//["a1","a2","a3"]

  //yä¿®é¥°ç¬¦çš„ä¸€ä¸ªåº”ç”¨ï¼Œæ˜¯ä»å­—ç¬¦ä¸²æå– tokenï¼ˆè¯å…ƒï¼‰ï¼Œyä¿®é¥°ç¬¦ç¡®ä¿äº†åŒ¹é…ä¹‹é—´ä¸ä¼šæœ‰æ¼æ‰çš„å­—ç¬¦ã€‚
  const TOKEN_Y = /\s*(\+|[0-9]+)\s*/y;
  const TOKEN_G = /\s*(\+|[0-9]+)\s*/g;
  function tokenize(TOKEN_REGEX,str) {
    let result = [];
    let match;
    while(match = TOKEN_REGEX.exec(str)){
      result.push(match[1]);
    }
      return result;
    }
    tokenize(TOKEN_Y,'3+4'); // [ '3', '+', '4' ]
    tokenize(TOKEN_G,'3+4'); // [ '3', '+', '4' ]
    //å¦‚æœå­—ç¬¦ä¸²ä¸­æ²¡æœ‰éæ³•å­—ç¬¦ï¼Œç»“æœæ˜¯ä¸€æ ·çš„ï¼Œä¸€æ—¦å‡ºç°éæ³•å­—ç¬¦ï¼Œä¸¤è€…è¡Œä¸ºå°±ä¸ä¸€æ ·,gä¿®é¥°ç¬¦ä¼šå¿½ç•¥éæ³•å­—ç¬¦ä¸²ï¼Œyä¿®é¥°ç¬¦ä¸ä¼š
    tokenize(TOKEN_Y,'3x+4'); // [ '3' ]
    tokenize(TOKEN_G,'3x+4'); // [ '3', '+', '4' ]

    //6.RegExp.prototype.sticky å±æ€§
    //ä¸yä¿®é¥°ç¬¦ç›¸åŒ¹é…,ES6æ­£åˆ™å¯¹è±¡å¤šäº†stickyå±æ€§,æ£€æµ‹æ˜¯å¦è®¾ç½®äº†yä¿®é¥°ç¬¦
    var r = /hello\d/y;
    console.log(r.sticky); //true

    //7.RegExp.prototype.flags å±æ€§
    //ES5çš„sourceå±æ€§
    /abc/ig.source  //"abc",è¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„æ­£æ–‡
    //ES6çš„flagså±æ€§
    /abc/ig.flags   //'gi',è¿”å›æ­£åˆ™è¡¨è¾¾å¼çš„ä¿®é¥°ç¬¦

    //8.sä¿®é¥°ç¬¦:dotAllæ¨¡å¼
    //æ­£åˆ™è¡¨è¾¾å¼ä¸­,ç‚¹(.)æ˜¯ä¸€ä¸ªç‰¹æ®Šå­—ç¬¦,ä»£è¡¨ä»»æ„çš„å•ä¸ªå­—ç¬¦,æœ‰ä¸¤ä¸ªä¾‹å¤–,ä¸€ä¸ªæ˜¯å››ä¸ªå­—èŠ‚çš„UTF-16å­—ç¬¦,
    //è¿™ä¸ªå¯ä»¥ç”¨uä¿®é¥°ç¬¦è§£å†³ï¼Œå¦ä¸€ä¸ªæ˜¯è¡Œç»ˆæ­¢ç¬¦,æŒ‡è¯¥å­—ç¬¦è¡¨ç¤ºä¸€è¡Œçš„æ€»ç»“
     /* U+000A æ¢è¡Œç¬¦ï¼ˆ\nï¼‰
        U+000D å›è½¦ç¬¦ï¼ˆ\rï¼‰
        U+2028 è¡Œåˆ†éš”ç¬¦ï¼ˆline separatorï¼‰
        U+2029 æ®µåˆ†éš”ç¬¦ï¼ˆparagraph separatorï¼‰*/
    /foo.bar/.test('foo\nbar');   //false

    //æˆ‘ä»¬å¸Œæœ›åŒ¹é…çš„æ˜¯ä»»æ„å•ä¸ªå­—ç¬¦ä¸²,è¿™æ—¶æœ‰ä¸€ç§å˜é€šçš„å†™æ³•
    /foo[^]bar/.test('foo\nbar'); //true
    //ä½†è¿™ç§è§£å†³æ–¹æ³•ä¸ç¬¦åˆç›´æ¥,es2018å¼•å…¥äº†sä¿®é¥°ç¬¦,å¯ä»¥ä½¿.åŒ¹é…å•ä¸ªå­—ç¬¦,è¿™ç§æ¨¡å¼ç§°ä¸ºdotAllæ¨¡å¼
    /foo.bar/s.test('foo\nbar');  //true

    const re = /foo.bar/s;
    //å¦ä¸€ç§å†™æ³•
    //const re = new RegExp('foo.bar','s');
    re.test('foo\nbar');  //true
    re.dotAll //true,æ£€æµ‹æ˜¯å¦ä½¿ç”¨dotAllæ¨¡å¼
    re.flags  //'s'
    //sä¿®é¥°ç¬¦å’Œå¤šè¡Œä¿®é¥°ç¬¦/mä¸å†²çªï¼Œä¸¤è€…ä¸€èµ·ä½¿ç”¨çš„æƒ…å†µä¸‹ï¼Œ.åŒ¹é…æ‰€æœ‰å­—ç¬¦ï¼Œè€Œ^å’Œ$åŒ¹é…æ¯ä¸€è¡Œçš„è¡Œé¦–å’Œè¡Œå°¾ã€‚
    
    //9.åè¡Œæ–­è¨€
    //javascriptçš„æ­£åˆ™è¡¨è¾¾å¼,åªæ”¯æŒå…ˆè¡Œæ–­è¨€å’Œå…ˆè¡Œå¦å®šæ–­è¨€,ä¸æ”¯æŒåè¡Œæ–­è¨€å’Œåè¡Œå¦å®šæ–­è¨€ï¼Œes2018å¼•å…¥äº†åè¡Œæ–­è¨€,v8å¼•æ“4.9(chorme62)ç‰ˆ
    //"å…ˆè¡Œæ–­è¨€"æ˜¯æŒ‡xåªæœ‰åœ¨yå‰é¢æ‰åŒ¹é…,å¿…é¡»å†™æˆ/x(?=y)/ã€‚æ¯”å¦‚ï¼ŒåªåŒ¹é…ç™¾åˆ†å·ä¹‹å‰çš„æ•°å­—ï¼Œè¦å†™æˆ/\d+(?=%)/;"å…ˆè¡Œå¦å®šæ–­è¨€"æŒ‡
    //xåªæœ‰ä¸åœ¨yå‰é¢æ‰åŒ¹é…å¿…é¡»å†™æˆ/x(?!y)/ã€‚æ¯”å¦‚åªåŒ¹é…ä¸åœ¨ç™¾åˆ†å·ä¹‹å‰çš„æ•°å­—,è¦å†™æˆ/\d+(?!%)/
    /\d+(?=%)/.exec('100% of US presidents have been male')  //["100"],å…ˆè¡Œæ–­è¨€ï¼ˆï¼Ÿ=%ï¼‰ä¸è®¡å…¥è¿”å›ç»“æœ
    /\d+(?!%)/.exec('thatâ€™s all 44 of them') //["44"]
    //åè¡Œæ–­è¨€å’Œå…ˆè¡Œæ–­è¨€ç›¸å,xåªæœ‰åœ¨yåé¢æ‰åŒ¹é…,å†™æˆ/(?<=y)x/,æ¯”å¦‚ï¼ŒåªåŒ¹é…ç¾å…ƒåé¢çš„æ•°ç»„ï¼Œå†™æˆ/(?<=\$)\d+/,
    //åè¡Œå¦å®šæ–­è¨€å’Œå…ˆè¡Œå¦å®šæ–­è¨€ç›¸å,xåªæœ‰ä¸åœ¨yåé¢æ‰åŒ¹é…ï¼Œè¦å†™æˆ/(?<!y)x/,æ¯”å¦‚åªåŒ¹é…ä¸åœ¨ç¾å…ƒç¬¦å·åé¢çš„æ•°å­—,è¦å†™æˆ/(?<!\$)\d+/
    /(?<=\$)\d+/.exec('Benjamin Franklin is on the $100 bill')  // ["100"]
    /(?<!\$)\d+/.exec('itâ€™s is worth about â‚¬90')                // ["90"]
    //â€œåè¡Œæ–­è¨€â€çš„æ‹¬å·ä¹‹ä¸­çš„éƒ¨åˆ†ï¼ˆ(?<=\$)ï¼‰ï¼Œä¹Ÿæ˜¯ä¸è®¡å…¥è¿”å›ç»“æœã€‚
    const RE_DOLLAR_PREFIX = /(?<=\$)foo/g;   //åªæœ‰åœ¨$åé¢çš„fooæ‰ä¼šåŒ¹é…
    '$foo %foo foo'.replace(RE_DOLLAR_PREFIX, 'bar');   // '$bar %foo foo'
    //åè¡Œæ–­è¨€çš„å®ç°ï¼Œéœ€è¦å…ˆåŒ¹é…/(?<=y)x/çš„xï¼Œç„¶åå†å›åˆ°å·¦è¾¹ï¼ŒåŒ¹é…yçš„éƒ¨åˆ†ã€‚è¿™ç§â€œå…ˆå³åå·¦â€çš„æ‰§è¡Œé¡ºåºï¼Œä¸æ‰€æœ‰å…¶ä»–æ­£åˆ™æ“ä½œç›¸åï¼Œå¯¼è‡´äº†ä¸€äº›ä¸ç¬¦åˆé¢„æœŸçš„è¡Œä¸ºã€‚
    /(?<=(\d+)(\d+))$/.exec('1053') // ["", "1", "053"],åè¡Œæ–­è¨€æ—¶ï¼Œç”±äºæ‰§è¡Œé¡ºåºæ˜¯ä»å³åˆ°å·¦ï¼Œç¬¬äºŒä¸ªæ‹¬å·æ˜¯è´ªå©ªæ¨¡å¼ï¼Œç¬¬ä¸€ä¸ªæ‹¬å·åªèƒ½æ•è·ä¸€ä¸ªå­—ç¬¦ï¼Œæ‰€ä»¥ç»“æœæ˜¯1å’Œ053ã€‚
    /^(\d+)(\d+)$/.exec('1053') // ["1053", "105", "3"]

    //â€œåè¡Œæ–­è¨€â€çš„åæ–œæ å¼•ç”¨ï¼Œä¹Ÿä¸é€šå¸¸çš„é¡ºåºç›¸åï¼Œå¿…é¡»æ”¾åœ¨å¯¹åº”çš„é‚£ä¸ªæ‹¬å·ä¹‹å‰ã€‚
    /(?<=\1d(o))r/.exec('hodor')  // ["r", "o"]
    //åè¡Œæ–­è¨€æ˜¯å…ˆä»å·¦åˆ°å³æ‰«æï¼Œå‘ç°åŒ¹é…ä»¥åå†å›è¿‡å¤´ï¼Œä»å³åˆ°å·¦å®Œæˆåæ–œæ å¼•ç”¨ã€‚
    


    //10.Unicode å±æ€§ç±»
    //ES2018 å¼•å…¥äº†ä¸€ç§æ–°çš„ç±»çš„å†™æ³•\p{...}å’Œ\P{...}ï¼Œå…è®¸æ­£åˆ™è¡¨è¾¾å¼åŒ¹é…ç¬¦åˆ Unicode æŸç§å±æ€§çš„æ‰€æœ‰å­—ç¬¦ã€‚
    const regexGreekSymbol = /\p{Script=Greek}/u;
    regexGreekSymbol.test('Ï€') // true,\p{Script=Greek}æŒ‡å®šåŒ¹é…ä¸€ä¸ªå¸Œè…Šæ–‡å­—æ¯ï¼Œæ‰€ä»¥åŒ¹é…Ï€æˆåŠŸã€‚
    //Unicodeå±æ€§ç±»è¦æŒ‡å®šå±æ€§åå’Œå±æ€§å€¼
    \p{UnicodePropertyName=UnicodePropertyValue}
    //å¯¹äºæŸäº›å±æ€§ï¼Œå¯ä»¥åªå†™å±æ€§åï¼Œæˆ–è€…åªå†™å±æ€§å€¼ã€‚
    \p{UnicodePropertyName}  \p{UnicodePropertyValue}

    //\P{â€¦}æ˜¯\p{â€¦}çš„åå‘åŒ¹é…ï¼Œå³åŒ¹é…ä¸æ»¡è¶³æ¡ä»¶çš„å­—ç¬¦ï¼Œè¿™ä¸¤ç§ç±»åªå¯¹ Unicode æœ‰æ•ˆï¼Œæ‰€ä»¥ä½¿ç”¨çš„æ—¶å€™ä¸€å®šè¦åŠ ä¸Šuä¿®é¥°ç¬¦ã€‚
    //ç”±äº Unicode çš„å„ç§å±æ€§éå¸¸å¤šï¼Œæ‰€ä»¥è¿™ç§æ–°çš„ç±»çš„è¡¨è¾¾èƒ½åŠ›éå¸¸å¼ºã€‚
    const regex = /^\p{Decimal_Number}+$/u;
    regex.test('ğŸğŸğŸ‘ğŸœğŸğŸğŸ©ğŸªğŸ«ğŸ¬ğŸ­ğŸ®ğŸ¯ğŸºğŸ»ğŸ¼') // true
    //ä¸Šé¢ä»£ç ä¸­ï¼Œå±æ€§ç±»æŒ‡å®šåŒ¹é…æ‰€æœ‰åè¿›åˆ¶å­—ç¬¦ï¼Œå¯ä»¥çœ‹åˆ°å„ç§å­—å‹çš„åè¿›åˆ¶å­—ç¬¦éƒ½ä¼šåŒ¹é…æˆåŠŸã€‚

    // åŒ¹é…æ‰€æœ‰æ•°å­—,ç”šè‡³èƒ½åŒ¹é…ç½—é©¬æ•°å­—ã€‚
    const regex = /^\p{Number}+$/u;
    regex.test('Â²Â³Â¹Â¼Â½Â¾') // true
    regex.test('ã‰›ã‰œã‰') // true
    regex.test('â… â…¡â…¢â…£â…¤â…¥â…¦â…§â…¨â…©â…ªâ…«') // true

    //å…¶ä»–ä¾‹å­
    // åŒ¹é…æ‰€æœ‰ç©ºæ ¼
    \p{White_Space}
    // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰å­—æ¯ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \w
    [\p{Alphabetic}\p{Mark}\p{Decimal_Number}\p{Connector_Punctuation}\p{Join_Control}]
    // åŒ¹é…å„ç§æ–‡å­—çš„æ‰€æœ‰éå­—æ¯çš„å­—ç¬¦ï¼Œç­‰åŒäº Unicode ç‰ˆçš„ \W
    [^\p{Alphabetic}\p{Mark}\p{Decimal_Number}\p{Connector_Punctuation}\p{Join_Control}]
    // åŒ¹é… Emoji
    /\p{Emoji_Modifier_Base}\p{Emoji_Modifier}?|\p{Emoji_Presentation}|\p{Emoji}\uFE0F/gu
    // åŒ¹é…æ‰€æœ‰çš„ç®­å¤´å­—ç¬¦
    const regexArrows = /^\p{Block=Arrows}+$/u;
    regexArrows.test('â†â†‘â†’â†“â†”â†•â†–â†—â†˜â†™â‡â‡â‡‘â‡’â‡“â‡”â‡•â‡–â‡—â‡˜â‡™â‡§â‡©') // true

    
    //11.å…·åç»„åŒ¹é…
    const RE_DATE = /(\d{4})-(\d{2})-(\d{2})/;
    //ä¸Šé¢ä»£ç ä¸­ï¼Œæ­£åˆ™è¡¨è¾¾å¼é‡Œé¢æœ‰ä¸‰ç»„åœ†æ‹¬å·ã€‚ä½¿ç”¨execæ–¹æ³•ï¼Œå°±å¯ä»¥å°†è¿™ä¸‰ç»„åŒ¹é…ç»“æœæå–å‡ºæ¥ã€‚
    const matchObj = RE_DATE.exec('1999-12-31');
    const year = matchObj[1]; // 1999
    const month = matchObj[2]; // 12
    const day = matchObj[3]; // 31
    //ç»„åŒ¹é…çš„ä¸€ä¸ªé—®é¢˜æ˜¯ï¼Œæ¯ä¸€ç»„çš„åŒ¹é…å«ä¹‰ä¸å®¹æ˜“çœ‹å‡ºæ¥ï¼Œè€Œä¸”åªèƒ½ç”¨æ•°å­—åºå·ï¼ˆæ¯”å¦‚matchObj[1]ï¼‰å¼•ç”¨ï¼Œè¦æ˜¯ç»„çš„é¡ºåºå˜äº†ï¼Œå¼•ç”¨çš„æ—¶å€™å°±å¿…é¡»ä¿®æ”¹åºå·ã€‚

    //ES2018 å¼•å…¥äº†å…·åç»„åŒ¹é…ï¼ˆNamed Capture Groupsï¼‰ï¼Œå…è®¸ä¸ºæ¯ä¸€ä¸ªç»„åŒ¹é…æŒ‡å®šä¸€ä¸ªåå­—ï¼Œæ—¢ä¾¿äºé˜…è¯»ä»£ç ï¼Œåˆä¾¿äºå¼•ç”¨,å¦‚æœç»„çš„é¡ºåºå˜äº†ï¼Œä¹Ÿä¸ç”¨æ”¹å˜åŒ¹é…åçš„å¤„ç†ä»£ç ã€‚
    const RE_DATE = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/;
    const matchObj = RE_DATE.exec('1999-12-31');
    const year = matchObj.groups.year; // 1999
    const month = matchObj.groups.month; // 12
    const day = matchObj.groups.day; // 31
    //â€œå…·åç»„åŒ¹é…â€åœ¨åœ†æ‹¬å·å†…éƒ¨ï¼Œæ¨¡å¼çš„å¤´éƒ¨æ·»åŠ â€œé—®å· + å°–æ‹¬å· + ç»„åâ€ï¼ˆ?<year>ï¼‰
    //ç„¶åå°±å¯ä»¥åœ¨execæ–¹æ³•è¿”å›ç»“æœçš„groupså±æ€§ä¸Šå¼•ç”¨è¯¥ç»„å,ä½¿ç”¨æ•°å­—åºå·matchObj[1]ä¾ç„¶æœ‰ç”¨
    
    //å¦‚æœæ²¡æœ‰å…·ååŒ¹é…ï¼Œé‚£ä¹ˆå¯¹äºçš„groupså¯¹è±¡å±æ€§ä¼šä½¿undefined
    const RE_OPT_A = /^(?<as>a+)?$/;
    const matchObj = RE_OPT_A.exec('');
    matchObj.groups.as // undefined
    'as' in matchObj.groups // true
    //å…·åç»„asæ²¡æœ‰æ‰¾åˆ°åŒ¹é…ï¼Œé‚£ä¹ˆmatchObj.groups.aså±æ€§å€¼å°±æ˜¯undefinedï¼Œå¹¶ä¸”asè¿™ä¸ªé”®ååœ¨groupsæ˜¯å§‹ç»ˆå­˜åœ¨çš„ã€‚

    //è§£æ„èµ‹å€¼å’Œæ›¿æ¢
    //æœ‰äº†å…·åç»„åŒ¹é…ä»¥åï¼Œå¯ä»¥ä½¿ç”¨è§£æ„èµ‹å€¼ç›´æ¥ä»åŒ¹é…ç»“æœä¸Šä¸ºå˜é‡èµ‹å€¼ã€‚
    let {groups: {one, two}} = /^(?<one>.*):(?<two>.*)$/u.exec('foo:bar');
    console.log(one); //foo
    console.log(two); //bar
    //å­—ç¬¦ä¸²æ›¿æ¢æ—¶,ä½¿ç”¨$<ç»„å>å¼•ç”¨å…·åç»„
    let re = /(?<year>\d{4})-(?<month>\d{2})-(?<day>\d{2})/u;
      '2015-01-02'.replace(re, '$<day>/$<month>/$<year>')
        // '02/01/2015',replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°æ˜¯ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè€Œä¸æ˜¯æ­£åˆ™è¡¨è¾¾å¼ã€‚

    //replaceæ–¹æ³•çš„ç¬¬äºŒä¸ªå‚æ•°ä¹Ÿå¯ä»¥æ˜¯å‡½æ•°
    '2015-01-02'.replace(re, (
        matched, // æ•´ä¸ªåŒ¹é…ç»“æœ 2015-01-02
        capture1, // ç¬¬ä¸€ä¸ªç»„åŒ¹é… 2015
        capture2, // ç¬¬äºŒä¸ªç»„åŒ¹é… 01
        capture3, // ç¬¬ä¸‰ä¸ªç»„åŒ¹é… 02
        position, // åŒ¹é…å¼€å§‹çš„ä½ç½® 0
        S, // åŸå­—ç¬¦ä¸² 2015-01-02
        groups // å…·åç»„æ„æˆçš„ä¸€ä¸ªå¯¹è±¡ {year, month, day}
      ) => {
      let {day, month, year} = groups;
      return `${day}/${month}/${year}`;
      });
      //å…·åç»„åŒ¹é…åœ¨åŸæ¥çš„åŸºç¡€ä¸Šï¼Œæ–°å¢äº†æœ€åä¸€ä¸ªå‡½æ•°å‚æ•°ï¼šå…·åç»„æ„æˆçš„ä¸€ä¸ªå¯¹è±¡ã€‚å‡½æ•°å†…éƒ¨å¯ä»¥ç›´æ¥å¯¹è¿™ä¸ªå¯¹è±¡è¿›è¡Œè§£æ„èµ‹å€¼ã€‚

      //å¼•ç”¨
      //å¦‚æœè¦åœ¨æ­£åˆ™è¡¨è¾¾å¼å†…éƒ¨å¼•ç”¨æŸä¸ªâ€œå…·åç»„åŒ¹é…â€ï¼Œå¯ä»¥ä½¿ç”¨\k<ç»„å>çš„å†™æ³•ã€‚
      const RE_TWICE = /^(?<word>[a-z]+)!\k<word>$/;
      RE_TWICE.test('abc!abc') // true
      RE_TWICE.test('abc!ab') // false 
      //æ•°å­—å¼•ç”¨(\1)ä¾ç„¶æœ‰æ•ˆ
      const RE_TWICE = /^(?<word>[a-z]+)!\1$/;
      RE_TWICE.test('abc!abc') // true
      RE_TWICE.test('abc!ab') // false  
      //è¿™ä¸¤ç§å¼•ç”¨è¯­æ³•è¿˜å¯ä»¥åŒæ—¶ä½¿ç”¨ã€‚
      const RE_TWICE = /^(?<word>[a-z]+)!\k<word>!\1$/;
      RE_TWICE.test('abc!abc!abc') // true
      RE_TWICE.test('abc!abc!ab') // false

      //12.String.prototype.matchAll
      //å¦‚æœä¸€ä¸ªæ­£åˆ™è¡¨è¾¾å¼åœ¨å­—ç¬¦ä¸²é‡Œé¢æœ‰å¤šä¸ªåŒ¹é…ï¼Œç°åœ¨ä¸€èˆ¬ä½¿ç”¨gä¿®é¥°ç¬¦æˆ–yä¿®é¥°ç¬¦ï¼Œåœ¨å¾ªç¯é‡Œé¢é€ä¸€å–å‡ºã€‚
      var regex = /t(e)(st(\d?))/g;
      var string = 'test1test2test3';

      var matches = [];
      var match;
      while (match = regex.exec(string)) {
        matches.push(match);
      }
      console.log(matches);       
      // [
      //   ["test1", "e", "st1", "1", index: 0, input: "test1test2test3"],
      //   ["test2", "e", "st2", "2", index: 5, input: "test1test2test3"],
      //   ["test3", "e", "st3", "3", index: 10, input: "test1test2test3"]
      // ]
      //whileå¾ªç¯å–å‡ºæ¯ä¸€è½®çš„æ­£åˆ™åŒ¹é…ï¼Œä¸€å…±ä¸‰è½®
      //ç›®å‰æœ‰ä¸€ä¸ªææ¡ˆï¼Œå¢åŠ äº†String.prototype.matchAllæ–¹æ³•ï¼Œå¯ä»¥ä¸€æ¬¡æ€§å–å‡ºæ‰€æœ‰åŒ¹é…ã€‚ä¸è¿‡ï¼Œå®ƒè¿”å›çš„æ˜¯ä¸€ä¸ªéå†å™¨ï¼ˆIteratorï¼‰ï¼Œè€Œä¸æ˜¯æ•°ç»„ã€‚
      const string = 'test1test2test3';
      // g ä¿®é¥°ç¬¦åŠ ä¸åŠ éƒ½å¯ä»¥
      const regex = /t(e)(st(\d?))/g;
      for (const match of string.matchAll(regex)) {
        console.log(match);
      }
      // ["test1", "e", "st1", "1", index: 0, input: "test1test2test3"]
      // ["test2", "e", "st2", "2", index: 5, input: "test1test2test3"]
      // ["test3", "e", "st3", "3", index: 10, input: "test1test2test3"]

      //ç›¸å¯¹äºè¿”å›æ•°ç»„ï¼Œè¿”å›éå†å™¨çš„å¥½å¤„åœ¨äºï¼Œå¦‚æœåŒ¹é…ç»“æœæ˜¯ä¸€ä¸ªå¾ˆå¤§çš„æ•°ç»„ï¼Œé‚£ä¹ˆéå†å™¨æ¯”è¾ƒèŠ‚çœèµ„æºã€‚
      // è½¬ä¸ºæ•°ç»„æ–¹æ³•ä¸€
        [...string.matchAll(regex)]

        // è½¬ä¸ºæ•°ç»„æ–¹æ³•äºŒ
        Array.from(string.matchAll(regex));






    
    




  
  
  


  

  
  </script>
  
</body>
</html>